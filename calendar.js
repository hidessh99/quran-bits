function Calendar(e,t,n,a,i,l,d){if("undefined"==typeof HijriDate)throw Error("HijriDate() class is required!");t=void 0===t?1:~~t,n=void 0===n||!!n,a=!!a;var r=this,s=(e=!!e)?new HijriDate:new Date,c=e?new HijriDate:new Date,o=s.getFullYear(),u=s.getMonth(),h=s.getDate(),f=!0,m=!0,v=!1,g=!1,p="block",C=!!window.addEventListener,L=document.createElement("div"),b=document.createElement("div"),y=document.createElement("select"),E=document.createElement("div"),M=document.createElement("div"),_=document.createElement("div"),T=document.createElement("div"),k=document.createElement("input"),D=document.createElement("div"),H=document.createElement("div"),$=document.createElement("div"),F=document.createElement("div"),Y=document.createElement("div"),w=document.createElement("div"),I=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),A=document.createElement("div"),O=document.createElement("div"),N=document.createElement("div"),W=document.createElement("div"),j=document.createElement("div"),R=function(){L.style.display=f?"none":p},B=function(){Y.style.display=m?"none":"",F.title=(m?"Show":"Hide")+" menu settings bar",Calendar.markElement(F,!m)},P=function(){w.title="Change to "+(e?"Gregorian":"Hijri")+" Calendar",Calendar.markElement(w,e)},q=function(){I.title="Set "+s.getDayName(1^t)+" as first day of week",Calendar.markElement(I,!!t)},z=function(){S.title=(n?"Disable":"Enable")+" auto hide calendar on select date",Calendar.markElement(S,n),n&&a&&(a=!1,G()),Calendar.disableElement(x,n)},G=function(){x.title=(a?"Disable":"Enable")+" auto selected date on change at year or month values",Calendar.markElement(x,a)},V=function(){A.title=(v?"Hide":"Show")+" extra buttons to adjust year value",Calendar.markElement(A,v),Calendar.revealElement(M,v),Calendar.revealElement(_,v),Calendar.revealElement(H,v),Calendar.revealElement($,v)},J=function(e,t,n){e=Calendar.parseInt(e,1),t=Calendar.parseInt(t,0),n=Calendar.parseInt(n,1),c.setFullYear(e),c.setMonth(t),c.setDate(n),s.setTime(c.getTime()),s.setDate(1)},K=function(){for(var e=0;e<12;e++)y.options[e].text=s.getMonthName(e);Q()},Q=function(){for(;W.firstChild;)W.removeChild(W.firstChild);U(),X()},U=function(){for(var e=0;e<7;e++){var n=document.createElement("div"),a=(e+t)%7,i=5===a?"friday-date":0===a?"sunday-date":"normal-date";n.innerHTML=s.getDayShortName(a),n.classList.add(i),W.appendChild(n)}},X=function(){for(;j.firstChild;)j.removeChild(j.firstChild);Z(),ee()},Z=function(){y.selectedIndex=s.getMonth(),k.value=s.getFullYear();var e,n,a=s.getDaysInMonth();s.setMonth(s.getMonth()-1);var i=s.getDaysInMonth();s.setMonth(s.getMonth()+1);var l=s.getDay(),d=l-t;d<0&&(d+=7);var r=(d+a)%7;r>0&&(r=7-r);for(var f=i-d+1;f<=i;f++){var m=document.createElement("div");m.classList.add("excluded-date"),m.innerHTML=f,j.appendChild(m)}for(var f=1;f<=a;f++){var m=document.createElement("div");m.innerHTML=f,e=(l+f-1)%7,m.classList.add("normal-date"),5===e&&m.classList.add("friday-date"),0===e&&m.classList.add("sunday-date"),s.getFullYear()===o&&s.getMonth()===u&&f===h&&m.classList.add("current-date"),s.getFullYear()===c.getFullYear()&&s.getMonth()===c.getMonth()&&f===c.getDate()&&m.classList.add("selected-date"),26586e6<=(n=(f-1)*864e5+s.getTime())&&n<266724e5&&m.classList.add("specialz-date"),ea(m,"click",ei),j.appendChild(m)}for(var f=1;f<=r;f++){var m=document.createElement("div");m.classList.add("excluded-date"),m.innerHTML=f,j.appendChild(m)}},ee=function(){var e=document.body.offsetWidth,t=window.innerWidth,n=window.innerHeight,a=L.getBoundingClientRect(),i=e>t?20:0,l=a.left<0?a.left:0,d=a.bottom-a.top>n?a.top:a.bottom>n-i?a.bottom-n+i:0;window.scrollBy(l,d)},et=function(){if(a){var e=s.getDaysInMonth(),t=c.getDate();c.setTime(s.getTime()),c.setDate(t>e?e:t),X(),"function"!=typeof r.callback||g||r.callback()}else X()},en=function(){r.hide(),"function"==typeof r.onHide&&r.onHide()},ea=function(e,t,n){C?e.addEventListener(t,n):e.attachEvent("on"+t,n)},ei=function(e){var t=(e=e||window.event).target||e.srcElement,a=j.getElementsByClassName("selected-date")[0];return t!==a&&(a&&a.classList.remove("selected-date"),t.classList.add("selected-date"),c.setTime(s.getTime()),c.setDate(parseInt(t.innerHTML))),n&&en(),"function"!=typeof r.callback||g||r.callback(),eE(e)},el=function(e){return e=e||window.event,s.setMonth(s.getMonth()-1),et(),eE(e)},ed=function(){s.setMonth(parseInt(y.value)),et()},er=function(e){return e=e||window.event,s.setMonth(s.getMonth()+1),et(),eE(e)},es=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()-100),et(),eE(e)},ec=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()-10),et(),eE(e)},eo=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()-1),et(),eE(e)},eu=function(){var e=parseInt(k.value);if(isNaN(e)){k.value=s.getFullYear();return}e!=s.getFullYear()&&(s.setFullYear(e),et())},eh=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()+1),et(),eE(e)},ef=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()+10),et(),eE(e)},em=function(e){return e=e||window.event,s.setFullYear(s.getFullYear()+100),et(),eE(e)},ev=function(e){return e=e||window.event,m=!m,B(),ee(),eE(e)},eg=function(e){return e=e||window.event,r.changeDateMode(),eE(e)},ep=function(e){return e=e||window.event,r.changeFirstDayOfWeek(),eE(e)},eC=function(e){return e=e||window.event,r.changeAutoHide(),eE(e)},eL=function(e){return e=e||window.event,r.changeAutoSelectedDate(),eE(e)},eb=function(e){return e=e||window.event,v=!v,V(),eE(e)},ey=function(e){return e=e||window.event,en(),eE(e)},eE=function(e){if(e.stopPropagation&&e.stopPropagation(),!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()};this.setDate=function(e,t,n){J(e,t,n),X()},this.setTime=function(e){c.setTime(e),s.setTime(e),s.setDate(1),X()},this.changeDateMode=function(){o=(s=(e=!e)?new HijriDate:new Date).getFullYear(),u=s.getMonth(),h=s.getDate(),s.setTime(c.getTime()),c=e?new HijriDate(s.getTime()):new Date(s.getTime()),s.setDate(1),K(),P(),q(),"function"!=typeof this.callback||g||this.callback()},this.changeFirstDayOfWeek=function(){t^=1,Q(),q()},this.changeAutoHide=function(){n=!n,z()},this.changeAutoSelectedDate=function(){n||(a=!a,G())},this.getDate=function(){return c},this.getTime=function(){return c.getTime()},this.isHijriMode=function(){return e},this.firstDayOfWeek=function(){return t},this.isAutoHide=function(){return n},this.isAutoSelectedDate=function(){return a},this.isHidden=function(){return f},this.callback,this.onHide,this.disableCallback=function(e){g=!!e},this.getElement=function(){return L},this.setDisplayStyle=function(e){p=e,R()},this.show=function(){f&&(f=!1,R(),ee())},this.hide=function(){f||(m||(m=!0,B()),f=!0,R())},this.destroy=function(){c=null,s=null,L.remove(),r=null},void 0!==i?J(i,l,d):(s.setTime(c.getTime()),s.setDate(1)),function(){var e=document.createElement("div");L.classList.add("calendar"),e.classList.add("header-row"),b.classList.add("header-button"),y.classList.add("month-field"),E.classList.add("header-button"),M.classList.add("header-button"),_.classList.add("header-button"),T.classList.add("header-button"),k.classList.add("year-field"),k.setAttribute("type","text"),D.classList.add("header-button"),H.classList.add("header-button"),$.classList.add("header-button"),F.classList.add("header-button"),Y.classList.add("setting-row"),w.classList.add("setting-button"),I.classList.add("setting-button"),S.classList.add("setting-button"),x.classList.add("setting-button"),A.classList.add("setting-button"),O.classList.add("setting-button"),N.classList.add("setting-button"),W.classList.add("weekday-row"),j.classList.add("date-grid"),b.innerHTML="-",b.title="Decrement month value by 1",E.innerHTML="+",E.title="Increment month value by 1",M.innerHTML="\xc2\xab",M.title="Decrement year value by 100",_.innerHTML="\xe2€\xb9",_.title="Decrement year value by 10",T.innerHTML="-",T.title="Decrement year value by 1",D.innerHTML="+",D.title="Increment year value by 1",H.innerHTML="\xe2€\xba",H.title="Increment year value by 10",$.innerHTML="\xc2\xbb",$.title="Increment year value by 100",F.innerHTML="⚙",w.innerHTML="☪",I.innerHTML="⚓",S.innerHTML="⚐",x.innerHTML="⛏",A.innerHTML="\xc2\xab\xc2\xbb",O.innerHTML="✔",O.title="Hide menu settings bar",N.innerHTML="✕",N.title="Hide calendar",B(),P(),q(),G(),z(),V(),R(),ea(b,"click",el),ea(y,"change",ed),ea(E,"click",er),ea(M,"click",es),ea(_,"click",ec),ea(T,"click",eo),ea(k,"change",eu),ea(D,"click",eh),ea(H,"click",ef),ea($,"click",em),ea(F,"click",ev),ea(w,"click",eg),ea(I,"click",ep),ea(S,"click",eC),ea(x,"click",eL),ea(A,"click",eb),ea(O,"click",ev),ea(N,"click",ey);for(var t=0;t<12;t++){var n=document.createElement("option");n.value=t,n.text=s.getMonthName(t),y.appendChild(n)}e.appendChild(b),e.appendChild(y),e.appendChild(E),e.appendChild(M),e.appendChild(_),e.appendChild(T),e.appendChild(k),e.appendChild(D),e.appendChild(H),e.appendChild($),e.appendChild(F),Y.appendChild(w),Y.appendChild(I),Y.appendChild(S),Y.appendChild(x),Y.appendChild(A),Y.appendChild(O),Y.appendChild(N),U(),L.appendChild(e),L.appendChild(Y),L.appendChild(W),L.appendChild(j),Z()}()}Calendar.parseInt=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},Calendar.markElement=function(e,t){Calendar.addOrRemoveClass(e,t,"active")},Calendar.disableElement=function(e,t){Calendar.addOrRemoveClass(e,t,"disabled")},Calendar.revealElement=function(e,t){e.style.visibility=t?"visible":"hidden"},Calendar.addOrRemoveClass=function(e,t,n){t?e.classList.add(n):e.classList.remove(n)};
